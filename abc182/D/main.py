#!/usr/bin/env python3


# Generated by 2.8.0 https://github.com/kyuridenamida/atcoder-tools  (tips: You use the default template now. You can remove this line by using your custom template)
def main():
    import itertools
    N = int(input())
    A = list(map(int, input().split()))
    S = list(itertools.accumulate(A))
    Smax = [0]
    for ss in S:
        if ss > Smax[-1]:
            Smax.append(ss)
        else:
            Smax.append(Smax[-1])
    Smax.pop(0)
    SS = [0] + list(itertools.accumulate(S))
    # print(S)
    # print(Smax)
    # print(SS)
    ans = 0
    for i in range(len(S)):
        ans = max(ans, Smax[i] + SS[i])
    print(ans)
    return

if __name__ == '__main__':
    main()
