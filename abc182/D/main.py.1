#!/usr/bin/env python3


# Generated by 2.6.0 https://github.com/kyuridenamida/atcoder-tools  (tips: You use the default template now. You can remove this line by using your custom template)
def main():
    from itertools import accumulate
    N = int(input())
    A = list(map(int, input().split()))
    # N = 3
    # A = [1,1,1]
    l1 = list(accumulate(A))
    l2 = list(accumulate(l1))
    # print(l2)
    l1_max = [l1[0]]
    for i in range(N):
        l1_max.append(max(l1_max[i], l1[i]))
    l1_max = l1_max[1:]
    # print(l1_max)
        
    ans = 0
    now = 0
    for i in range(N):
        ans = max(ans, now + l1_max[i])
        now = l2[i]
        # print(ans)
    print(ans)

    # Failed to predict input format
    return

if __name__ == '__main__':
    main()
