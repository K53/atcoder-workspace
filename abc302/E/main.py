#!/usr/bin/env python3
from collections import defaultdict

# Generated by 2.12.0 https://github.com/kyuridenamida/atcoder-tools  (tips: You use the default template now. You can remove this line by using your custom template)
def main():
    N, Q = map(int, input().split())
    ans = N
    d = defaultdict(set)
    for _ in range(Q):
        type, *arg = list(map(int, input().split()))
        if type == 1:
            a, b = arg
            a -= 1
            b -= 1
            if len(d[a]) == 0:
                ans -= 1
            if len(d[b]) == 0:
                ans -= 1
            d[a].add(b)
            d[b].add(a)
        else:
            a = arg[0] - 1
            for node in d[a]:
                d[node].remove(a)
                if len(d[node]) == 0:
                    ans += 1
            if len(d[a]) > 0:
                d[a].clear()
                ans += 1
        print(ans)
    return


if __name__ == '__main__':
    main()
